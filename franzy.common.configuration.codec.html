<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>franzy.common.configuration.codec documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Franzy-common</span> <span class="project-version">0.0.1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="README.html"><div class="inner"><span>Franzy-Common</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>franzy</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>async</span></div></div></li><li class="depth-4"><a href="franzy.common.async.wrappers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wrappers</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>broker</span></div></div></li><li class="depth-4"><a href="franzy.common.broker.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>configuration</span></div></div></li><li class="depth-4 current"><a href="franzy.common.configuration.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-4"><a href="franzy.common.io.filesystem.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>filesystem</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>metadata</span></div></div></li><li class="depth-4"><a href="franzy.common.metadata.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>models</span></div></div></li><li class="depth-4 branch"><a href="franzy.common.models.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-4"><a href="franzy.common.models.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-3"><a href="franzy.common.schema.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>schema</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="franzy.common.configuration.codec.html#var-decode-xf"><div class="inner"><span>decode-xf</span></div></a></li><li class="depth-1"><a href="franzy.common.configuration.codec.html#var-KafkaConfigCodec"><div class="inner"><span>KafkaConfigCodec</span></div></a></li><li class="depth-2 branch"><a href="franzy.common.configuration.codec.html#var-decode"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>decode</span></div></a></li><li class="depth-2"><a href="franzy.common.configuration.codec.html#var-encode"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>encode</span></div></a></li><li class="depth-1"><a href="franzy.common.configuration.codec.html#var-map-.3Eproperties"><div class="inner"><span>map-&gt;properties</span></div></a></li><li class="depth-1"><a href="franzy.common.configuration.codec.html#var-properties-.3Emap"><div class="inner"><span>properties-&gt;map</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">franzy.common.configuration.codec</h1><div class="doc"><div class="markdown"><p>Codec and supporting functionality for managing Kafka property-based configuration.</p></div></div><div class="public anchor" id="var-decode-xf"><h3>decode-xf</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Transducer, applied on decode of collections that may be overriden using alter-var-root for example.</p></div></div></div><div class="public anchor" id="var-KafkaConfigCodec"><h3>KafkaConfigCodec</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A codec with specialized handling for Kafka configurations, typically property-based.</p>
<p>The following functions are currently supported to help you write simpler configurations when encoding a map to properties:</p>
<ul>
  <li>Keyword keys are converted to strings</li>
  <li>Keyword values are converted to strings.</li>
  <li>Persistent collections by default will be joined on a comma and can be used for multi-values, such as a server list.</li>
  <li>Persistent maps are converted to properties. This allows both records and maps to be used as configs for Kafka.</li>
</ul>
<p>The reason why we are not doing something more ‘Clojure’ is as follows:</p>
<ul>
  <li>Mainline Kafka configurations are constantly changing, and adding yet another new slightly differently named/located key is cumbersome on users</li>
  <li>There’s not much repetition to justify nesting these keys, other than perhaps the security protocol-related config keys</li>
  <li>It complicates serialization/deserialization needlessly</li>
  <li>Keeping keys as keyword values allows Kafka configs to be Clojure enough</li>
  <li>It is brain-dead easy to import existing Kafka configs this way, which is a real-world issue for many users</li>
</ul></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-decode"><h3>decode</h3><div class="usage"><code>(decode v)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-encode"><h3>encode</h3><div class="usage"><code>(encode v)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div></div><div class="public anchor" id="var-map-.3Eproperties"><h3>map-&gt;properties</h3><div class="usage"><code>(map-&gt;properties m)</code></div><div class="doc"><div class="markdown"><p>Converts a map to a Java Properties object.</p>
<p>Notes:</p>
<ul>
  <li>Sequential collections will be joined as comma-delimited strings, ex: [1 2 3 4] -&gt; “1, 2, 3, 4”.</li>
  <li>Anything else will be converted to a string.</li>
  <li>Does not use the codec, and is here for the simple people that asked for a simple conversion function. I simply disapprove, but here it is.</li>
</ul></div></div></div><div class="public anchor" id="var-properties-.3Emap"><h3>properties-&gt;map</h3><div class="usage"><code>(properties-&gt;map properties)</code></div><div class="doc"><div class="markdown"><p>Converts a Java Properties object to a map.</p>
<p>Notes:</p>
<ul>
  <li>Converts all Java strings to keywords.</li>
  <li>Doesn’t handle string delimited values (by design for now) - convert to Clojure persistent vectors (yet?)</li>
  <li>Does not use the codec, and is here for the simple people that asked for a simple conversion function. I simply disapprove, but here it is.</li>
</ul></div></div></div></div></body></html>